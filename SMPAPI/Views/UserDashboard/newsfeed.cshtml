@model SSRFACE.ViewModels.NewsFeedViewModel

@{
    Layout = "~/Views/Shared/_DashBoardLayout.cshtml";
}


<div class="col-md-7">

    <!-- Post Create Box
    ================================================= -->
    <div class="create-post">
        <div class="row">
            <div class="col-md-7 col-sm-7">
                <div class="form-group">
                    <img src="/images/users/user-1.jpg" alt="" class="profile-photo-md" />
                    <textarea name="texts" id="NewStatusTextarea" cols="30" rows="1" class="form-control" placeholder="Write what you wish"></textarea>
                </div>
            </div>
            <div class="col-md-5 col-sm-5">
                <div class="tools">
                    <ul class="publishing-tools list-inline">
                        <li><a href="#"><i class="ion-compose"></i></a></li>
                        <li><a href="#"><i class="ion-images"></i></a></li>
                        <li><a href="#"><i class="ion-ios-videocam"></i></a></li>
                        <li><a href="#"><i class="ion-map"></i></a></li>
                    </ul>
                    <button type="button" class="btn btn-primary PostStatus pull-right">Publish</button>
                </div>
            </div>
        </div>
    </div><!-- Post Create Box End-->
    <!-- Post Content
    ================================================= -->

    <div id="Newpost">

    </div>

    @if ((Model != null &&  Model.Postlistdata!=null) && (Model.Postlistdata.Count > 0))
    {
        foreach (var post in Model.Postlistdata)
        {
            <div class="panel panel-default post-content">
                <div class="panel-body">
                    <div class="avatar">
                        <img src="/images/users/user-2.jpg" class="img-circle" style="width: 60px;" />
                        <span> <a href="" style="font-weight:bold">@post.UserName</a> </span><br />
                        <p style="margin-left: 60px; margin-top: -19px;">
                            <span class="glyphicon glyphicon-time" aria-hidden="true"></span>
                            <time class="timeago" datetime="@post.CreatedDate">@post.CreatedDate</time>
                        </p>

                    </div>

                    <div class="postMessage" style="margin-top: 11px; margin-left: 9px;">
                        <span class="label label-warning"> @string.Format("Post #{0}", post.UserPostId) </span><br />
                <div class="post-text">
                    <p class="message">
                        @post.PostContent
                        @if (!string.IsNullOrEmpty(post.PhotoUrl))
                        {
                            <img src="/images/post-images/1.jpg" alt="post-image" class="img-responsive post-image">
                        }
                    </p>
                        </div>
                    </div>

                </div>
                <div class="panel-footer">
                    <button type="button" class="btn btn-default Comment" data-request-url="@Url.Action("GetComments", "Comments")" data-id="@post.UserPostId" value="Comment">
                        <span class="glyphicon glyphicon-comment" aria-hidden="true"></span> Comment
                    </button>

                </div>
                <div id="@string.Format("{0}_{1}","commentsBlock", post.UserPostId)" style="border: 1px solid #f1eaea; background-color: #eaf2ff;">

                    <div class="AddComment" style="margin-bottom: 5px; margin-top: 8px;">
                        <input type="text" id="@string.Format("{0}_{1}", "comment", post.UserPostId)" class="form-control" placeholder="Add a Comment ..." style="display: inline;" />
                        <button type="button" data-request-url="@Url.Action("AddComment", "Comments")" class="btn btn-default addComment" data-id="@post.UserPostId"><span class="glyphicon glyphicon-comment" aria-hidden="true"></span></button>
                    </div>

                </div>
            </div>
        }
    }



</div>

<script src="~/js/jquery-3.1.1.min.js"></script>

<script src="~/js/Manualjs/NeewsFeed.js"></script>
<script src="~/js/Manualjs/PostStatus.js"></script>

